var avatarstr = [];

for(var y=1; y<121; y++){
	var str = "../static/img/character (" + y + ").png";
	avatarstr[y-1] = str;
}
//マップの作成（さくせい）
/*
var map = [
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,1 ,1 ,1 ,1 ,1 ,1 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,5 ,0 ,0 ,5 ,0 ,5 ,0 ,5],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,1 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,5 ,0 ,0 ,5 ,0 ,5 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,1 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,5 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,1 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,5 ,0 ,5 ,0 ,0 ,5 ,0 ,5],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,1 ,1 ,1 ,1 ,1 ,1 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,1 ,1 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 3, 3, 3, 3, 3 ,0 ,0 ,0 ,0 ,5 ,0 ,5 ,0 ,0 ,5 ,0 ,5],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,1 ,0 ,0 ,1 ,0 ,0 ,0 ,0 ,0 ,0, 0, 3, 0, 0, 0, 0, 0 ,3 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,1 ,0 ,0 ,1 ,0 ,0 ,0 ,0 ,0 ,0, 0, 3, 0, 0, 0, 0, 0 ,3 ,0 ,0 ,0 ,5 ,0 ,5 ,0 ,0 ,5 ,0 ,5],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,1 ,1 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 3, 3, 3, 3, 3 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 3, 0, 0 ,0 ,0 ,0 ,0 ,5 ,0 ,5 ,0 ,0 ,5 ,0 ,5],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 3, 0, 0, 0, 3 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,2 ,2 ,2 ,2 ,0, 0, 0, 3, 0, 0, 0, 3 ,0 ,0 ,0 ,0 ,4 ,4 ,4 ,4 ,4 ,4 ,4 ,4],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,2 ,0 ,0 ,0 ,0 ,2, 0, 0, 3, 0, 0, 0, 3 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,2 ,0 ,0 ,0 ,0 ,2, 0, 0, 3, 0, 0, 0, 3 ,0 ,0 ,0 ,0 ,4 ,4 ,4 ,4 ,4 ,4 ,4 ,4],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,2 ,2 ,2 ,2 ,0, 0, 0, 0, 0, 3, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0]
];*/
var map = [
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 1, 1, 1, 1, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,11, 0, 11, 0, 11, 0, 0, 0 ,0 ,0],
	[0, 0, 1, 0, 0, 0, 0, 0 ,1 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,11, 0, 11, 0, 11, 0, 0, 0 ,0 ,0],
	[0, 0, 1, 0, 0, 0, 0, 0 ,1 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 11, 0 ,0 ,0],
	[0, 0, 0, 1, 1, 1, 1, 0 ,0 ,0 ,0 ,0 ,0 ,3 ,3 ,3 ,3 ,0 ,0 ,0 ,11, 0, 11, 11, 0, 11, 11, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 11, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,11, 0, 11, 11, 0, 11, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 2 ,0 ,0 ,0 ,0 ,0 ,3 ,0 ,0 ,3 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 2 ,0 ,3 ,3 ,3 ,0 ,3 ,0 ,0 ,3 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,3 ,0 ,0 ,3 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,3 ,3 ,3 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,4 ,4, 4, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 8 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,10 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 7, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,6 ,0 ,0, 0, 0, 0, 5, 5, 5, 0 ,0 ,0],
	[0, 0, 0, 0, 7, 0, 7, 0 ,0 ,0 ,0 ,9 ,0 ,9 ,0 ,0 ,0 ,0 ,6 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 7, 0, 0 ,0 ,0 ,0 ,9 ,0 ,9 ,0 ,0 ,0 ,0 ,6 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 5, 5, 5, 0 ,0 ,0],
	[0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0]
];

function map_new(i,s){
	for (var y=0; y<map.length; y++) {
		for (var x=0; x<map[y].length; x++) {
			if ( map[y][x] === i+1 ) {
				map[y][x] = list_data[i][s] + 15;
				return 1;
			}
		}
	}
}

function table(y, x){
	for (var i=0; i<list_data.length; i++){
		for (var s=2; s<list_data[i].length; s+=2){
			if ( map[y][x] === list_data[i][s]+15){
				document.write('<td class=avatar background="'+avatarstr[list_data[i][s]-1]+'" onclick="message('+list_data[i][s]+')"><span class="make_message '+list_data[i][s]+'" id = "event_message '+list_data[i][s]+'" left:"'+(32*x)+'px"><p class="test1">'+list_data[i][s-1]+'<br>'+list_data[i][0]+'</p></span></td>');
				/*document.write('<img class = "avatar '+(list_data[i][s]% 6 + 1)+'" src="'+avatarstr[list_data[i][s]%6]+'" onclick="message('+list_data[i][s]+')"> <span class="make_message '+list_data[i][s]+'" id = "event_message '+list_data[i][s]+'" left:"'+32*x+'px">'+list_data[i][s-1]+'<br>'+list_data[i][0]+'</span></img></td>');*/
				return 1;
			}
		}
	}
	document.write('<td></td>');
	return 0;
}

a =0;
for (var i=0; i<list_data.length; i++){
	for (var s=2; s<list_data[i].length; s+=2){
		a = map_new(i,s)
	}
}

	document.write('<tr>');
	for (var y=0; y<map.length; y++) {
		for (var x=0; x<map[y].length; x++) {
			a = table(y, x)
		}
		document.write('</tr>');
	}	

function message(i){
	var message = document.getElementById("event_message "+i);
	if(message.className == "make_message "+i){
		message.className = "make_messages "+i;
	}
	else{
		message.className = "make_message "+i;
	}
}

function message2(){
	var message2 = document.getElementById("event_message2");
	if(message2.className == "make_message2"){
		message2.className = "make_messages2";
	}
	else{
		message2.className = "make_message2";
	}
}
$('input').on('focusin', function() {
	$(this).parent().find('label').addClass('active');
});
  
$('input').on('focusout', function() {
	if (!this.value) {
	  $(this).parent().find('label').removeClass('active');
	}
});

